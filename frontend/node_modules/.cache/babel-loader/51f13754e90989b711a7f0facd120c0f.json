{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { useState, useContext, useEffect, createContext, Fragment } from 'react';\nimport { render } from '../../utils/render.esm.js';\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect.esm.js';\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete.esm.js';\nimport { createPortal } from 'react-dom';\nimport { usePortalRoot } from '../../internal/portal-force-root.esm.js';\nfunction usePortalTarget() {\n  var forceInRoot = usePortalRoot();\n  var groupTarget = useContext(PortalGroupContext);\n  var _useState = useState(function () {\n      // Group context is used, but still null\n      if (!forceInRoot && groupTarget !== null) return null; // No group context is used, let's create a default portal root\n\n      if (typeof window === 'undefined') return null;\n      var existingRoot = document.getElementById('headlessui-portal-root');\n      if (existingRoot) return existingRoot;\n      var root = document.createElement('div');\n      root.setAttribute('id', 'headlessui-portal-root');\n      return document.body.appendChild(root);\n    }),\n    target = _useState[0],\n    setTarget = _useState[1];\n  useEffect(function () {\n    if (forceInRoot) return;\n    if (groupTarget === null) return;\n    setTarget(groupTarget.current);\n  }, [groupTarget, setTarget, forceInRoot]);\n  return target;\n} // ---\n\nvar DEFAULT_PORTAL_TAG = Fragment;\nfunction Portal(props) {\n  var passthroughProps = props;\n  var target = usePortalTarget();\n  var _useState2 = useState(function () {\n      return typeof window === 'undefined' ? null : document.createElement('div');\n    }),\n    element = _useState2[0];\n  var ready = useServerHandoffComplete();\n  useIsoMorphicEffect(function () {\n    if (!target) return;\n    if (!element) return;\n    target.appendChild(element);\n    return function () {\n      if (!target) return;\n      if (!element) return;\n      target.removeChild(element);\n      if (target.childNodes.length <= 0) {\n        var _target$parentElement;\n        (_target$parentElement = target.parentElement) == null ? void 0 : _target$parentElement.removeChild(target);\n      }\n    };\n  }, [target, element]);\n  if (!ready) return null;\n  return !target || !element ? null : createPortal(render({\n    props: passthroughProps,\n    defaultTag: DEFAULT_PORTAL_TAG,\n    name: 'Portal'\n  }), element);\n} // ---\n\nvar DEFAULT_GROUP_TAG = Fragment;\nvar PortalGroupContext = /*#__PURE__*/createContext(null);\nfunction Group(props) {\n  var target = props.target,\n    passthroughProps = _objectWithoutPropertiesLoose(props, [\"target\"]);\n  return React.createElement(PortalGroupContext.Provider, {\n    value: target\n  }, render({\n    props: passthroughProps,\n    defaultTag: DEFAULT_GROUP_TAG,\n    name: 'Popover.Group'\n  }));\n} // ---\n\nPortal.Group = Group;\nexport { Portal };","map":{"version":3,"names":["usePortalTarget","forceInRoot","usePortalRoot","groupTarget","useContext","PortalGroupContext","useState","window","existingRoot","document","getElementById","root","createElement","setAttribute","body","appendChild","target","_useState","setTarget","useEffect","current","DEFAULT_PORTAL_TAG","Fragment","Portal","props","passthroughProps","element","_useState2","ready","useServerHandoffComplete","useIsoMorphicEffect","removeChild","childNodes","length","_target$parentElement","parentElement","createPortal","render","defaultTag","name","DEFAULT_GROUP_TAG","createContext","Group","_objectWithoutPropertiesLoose","React","Provider","value"],"sources":["/Users/flok/Documents/Check/indexcards.ai/frontend/node_modules/@headlessui/react/src/components/portal/portal.tsx"],"sourcesContent":["import React, {\n  Fragment,\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n\n  // Types\n  ElementType,\n  MutableRefObject,\n} from 'react'\nimport { createPortal } from 'react-dom'\n\nimport { Props } from '../../types'\nimport { render } from '../../utils/render'\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect'\nimport { usePortalRoot } from '../../internal/portal-force-root'\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete'\n\nfunction usePortalTarget(): HTMLElement | null {\n  let forceInRoot = usePortalRoot()\n  let groupTarget = useContext(PortalGroupContext)\n  let [target, setTarget] = useState(() => {\n    // Group context is used, but still null\n    if (!forceInRoot && groupTarget !== null) return null\n\n    // No group context is used, let's create a default portal root\n    if (typeof window === 'undefined') return null\n    let existingRoot = document.getElementById('headlessui-portal-root')\n    if (existingRoot) return existingRoot\n\n    let root = document.createElement('div')\n    root.setAttribute('id', 'headlessui-portal-root')\n    return document.body.appendChild(root)\n  })\n\n  useEffect(() => {\n    if (forceInRoot) return\n    if (groupTarget === null) return\n    setTarget(groupTarget.current)\n  }, [groupTarget, setTarget, forceInRoot])\n\n  return target\n}\n\n// ---\n\nlet DEFAULT_PORTAL_TAG = Fragment\ninterface PortalRenderPropArg {}\n\nexport function Portal<TTag extends ElementType = typeof DEFAULT_PORTAL_TAG>(\n  props: Props<TTag, PortalRenderPropArg>\n) {\n  let passthroughProps = props\n  let target = usePortalTarget()\n  let [element] = useState<HTMLDivElement | null>(() =>\n    typeof window === 'undefined' ? null : document.createElement('div')\n  )\n\n  let ready = useServerHandoffComplete()\n\n  useIsoMorphicEffect(() => {\n    if (!target) return\n    if (!element) return\n\n    target.appendChild(element)\n\n    return () => {\n      if (!target) return\n      if (!element) return\n\n      target.removeChild(element)\n\n      if (target.childNodes.length <= 0) {\n        target.parentElement?.removeChild(target)\n      }\n    }\n  }, [target, element])\n\n  if (!ready) return null\n\n  return !target || !element\n    ? null\n    : createPortal(\n        render({ props: passthroughProps, defaultTag: DEFAULT_PORTAL_TAG, name: 'Portal' }),\n        element\n      )\n}\n\n// ---\n\nlet DEFAULT_GROUP_TAG = Fragment\ninterface GroupRenderPropArg {}\n\nlet PortalGroupContext = createContext<MutableRefObject<HTMLElement | null> | null>(null)\n\nfunction Group<TTag extends ElementType = typeof DEFAULT_GROUP_TAG>(\n  props: Props<TTag, GroupRenderPropArg> & {\n    target: MutableRefObject<HTMLElement | null>\n  }\n) {\n  let { target, ...passthroughProps } = props\n\n  return (\n    <PortalGroupContext.Provider value={target}>\n      {render({\n        props: passthroughProps,\n        defaultTag: DEFAULT_GROUP_TAG,\n        name: 'Popover.Group',\n      })}\n    </PortalGroupContext.Provider>\n  )\n}\n\n// ---\n\nPortal.Group = Group\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}