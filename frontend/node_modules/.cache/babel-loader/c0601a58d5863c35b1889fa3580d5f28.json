{"ast":null,"code":"import { disposables } from '../../../utils/disposables.esm.js';\nimport { once } from '../../../utils/once.esm.js';\nfunction addClasses(node) {\n  var _node$classList;\n  for (var _len = arguments.length, classes = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    classes[_key - 1] = arguments[_key];\n  }\n  node && classes.length > 0 && (_node$classList = node.classList).add.apply(_node$classList, classes);\n}\nfunction removeClasses(node) {\n  var _node$classList2;\n  for (var _len2 = arguments.length, classes = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    classes[_key2 - 1] = arguments[_key2];\n  }\n  node && classes.length > 0 && (_node$classList2 = node.classList).remove.apply(_node$classList2, classes);\n}\nvar Reason;\n(function (Reason) {\n  Reason[\"Finished\"] = \"finished\";\n  Reason[\"Cancelled\"] = \"cancelled\";\n})(Reason || (Reason = {}));\nfunction waitForTransition(node, done) {\n  var d = disposables();\n  if (!node) return d.dispose; // Safari returns a comma separated list of values, so let's sort them and take the highest value.\n\n  var _getComputedStyle = getComputedStyle(node),\n    transitionDuration = _getComputedStyle.transitionDuration,\n    transitionDelay = _getComputedStyle.transitionDelay;\n  var _map = [transitionDuration, transitionDelay].map(function (value) {\n      var _value$split$filter$m = value.split(',') // Remove falsy we can't work with\n        .filter(Boolean) // Values are returned as `0.3s` or `75ms`\n        .map(function (v) {\n          return v.includes('ms') ? parseFloat(v) : parseFloat(v) * 1000;\n        }).sort(function (a, z) {\n          return z - a;\n        }),\n        _value$split$filter$m2 = _value$split$filter$m[0],\n        resolvedValue = _value$split$filter$m2 === void 0 ? 0 : _value$split$filter$m2;\n      return resolvedValue;\n    }),\n    durationMs = _map[0],\n    delaysMs = _map[1]; // Waiting for the transition to end. We could use the `transitionend` event, however when no\n  // actual transition/duration is defined then the `transitionend` event is not fired.\n  //\n  // TODO: Downside is, when you slow down transitions via devtools this timeout is still using the\n  // full 100% speed instead of the 25% or 10%.\n\n  if (durationMs !== 0) {\n    d.setTimeout(function () {\n      done(Reason.Finished);\n    }, durationMs + delaysMs);\n  } else {\n    // No transition is happening, so we should cleanup already. Otherwise we have to wait until we\n    // get disposed.\n    done(Reason.Finished);\n  } // If we get disposed before the timeout runs we should cleanup anyway\n\n  d.add(function () {\n    return done(Reason.Cancelled);\n  });\n  return d.dispose;\n}\nfunction transition(node, base, from, to, entered, done) {\n  var d = disposables();\n  var _done = done !== undefined ? once(done) : function () {};\n  removeClasses.apply(void 0, [node].concat(entered));\n  addClasses.apply(void 0, [node].concat(base, from));\n  d.nextFrame(function () {\n    removeClasses.apply(void 0, [node].concat(from));\n    addClasses.apply(void 0, [node].concat(to));\n    d.add(waitForTransition(node, function (reason) {\n      removeClasses.apply(void 0, [node].concat(to, base));\n      addClasses.apply(void 0, [node].concat(entered));\n      return _done(reason);\n    }));\n  }); // Once we get disposed, we should ensure that we cleanup after ourselves. In case of an unmount,\n  // the node itself will be nullified and will be a no-op. In case of a full transition the classes\n  // are already removed which is also a no-op. However if you go from enter -> leave mid-transition\n  // then we have some leftovers that should be cleaned.\n\n  d.add(function () {\n    return removeClasses.apply(void 0, [node].concat(base, from, to, entered));\n  }); // When we get disposed early, than we should also call the done method but switch the reason.\n\n  d.add(function () {\n    return _done(Reason.Cancelled);\n  });\n  return d.dispose;\n}\nexport { Reason, transition };","map":{"version":3,"names":["addClasses","node","classes","Array","_len","_key","arguments","length","_node$classList","classList","add","apply","removeClasses","_len2","_key2","_node$classList2","remove","Reason","waitForTransition","done","d","disposables","dispose","getComputedStyle","transitionDuration","_getComputedStyle","transitionDelay","map","value","split","filter","Boolean","v","includes","parseFloat","sort","a","z","resolvedValue","_value$split$filter$m2","durationMs","_map","delaysMs","setTimeout","Finished","Cancelled","transition","base","from","to","entered","_done","undefined","once","concat","nextFrame","reason"],"sources":["/Users/flok/Documents/Check/indexcards.ai/frontend/node_modules/@headlessui/react/src/components/transitions/utils/transition.ts"],"sourcesContent":["import { once } from '../../../utils/once'\nimport { disposables } from '../../../utils/disposables'\n\nfunction addClasses(node: HTMLElement, ...classes: string[]) {\n  node && classes.length > 0 && node.classList.add(...classes)\n}\n\nfunction removeClasses(node: HTMLElement, ...classes: string[]) {\n  node && classes.length > 0 && node.classList.remove(...classes)\n}\n\nexport enum Reason {\n  Finished = 'finished',\n  Cancelled = 'cancelled',\n}\n\nfunction waitForTransition(node: HTMLElement, done: (reason: Reason) => void) {\n  let d = disposables()\n\n  if (!node) return d.dispose\n\n  // Safari returns a comma separated list of values, so let's sort them and take the highest value.\n  let { transitionDuration, transitionDelay } = getComputedStyle(node)\n\n  let [durationMs, delaysMs] = [transitionDuration, transitionDelay].map(value => {\n    let [resolvedValue = 0] = value\n      .split(',')\n      // Remove falsy we can't work with\n      .filter(Boolean)\n      // Values are returned as `0.3s` or `75ms`\n      .map(v => (v.includes('ms') ? parseFloat(v) : parseFloat(v) * 1000))\n      .sort((a, z) => z - a)\n\n    return resolvedValue\n  })\n\n  // Waiting for the transition to end. We could use the `transitionend` event, however when no\n  // actual transition/duration is defined then the `transitionend` event is not fired.\n  //\n  // TODO: Downside is, when you slow down transitions via devtools this timeout is still using the\n  // full 100% speed instead of the 25% or 10%.\n  if (durationMs !== 0) {\n    d.setTimeout(() => {\n      done(Reason.Finished)\n    }, durationMs + delaysMs)\n  } else {\n    // No transition is happening, so we should cleanup already. Otherwise we have to wait until we\n    // get disposed.\n    done(Reason.Finished)\n  }\n\n  // If we get disposed before the timeout runs we should cleanup anyway\n  d.add(() => done(Reason.Cancelled))\n\n  return d.dispose\n}\n\nexport function transition(\n  node: HTMLElement,\n  base: string[],\n  from: string[],\n  to: string[],\n  entered: string[],\n  done?: (reason: Reason) => void\n) {\n  let d = disposables()\n  let _done = done !== undefined ? once(done) : () => {}\n\n  removeClasses(node, ...entered)\n  addClasses(node, ...base, ...from)\n\n  d.nextFrame(() => {\n    removeClasses(node, ...from)\n    addClasses(node, ...to)\n\n    d.add(\n      waitForTransition(node, reason => {\n        removeClasses(node, ...to, ...base)\n        addClasses(node, ...entered)\n        return _done(reason)\n      })\n    )\n  })\n\n  // Once we get disposed, we should ensure that we cleanup after ourselves. In case of an unmount,\n  // the node itself will be nullified and will be a no-op. In case of a full transition the classes\n  // are already removed which is also a no-op. However if you go from enter -> leave mid-transition\n  // then we have some leftovers that should be cleaned.\n  d.add(() => removeClasses(node, ...base, ...from, ...to, ...entered))\n\n  // When we get disposed early, than we should also call the done method but switch the reason.\n  d.add(() => _done(Reason.Cancelled))\n\n  return d.dispose\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}